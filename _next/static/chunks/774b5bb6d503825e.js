(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79223,e=>{"use strict";e.s(["default",()=>c],79223);var t=e.i(43476),s=e.i(71645),a=e.i(33901);let l=new a.Events.EventEmitter;class i extends Phaser.Scene{preload(){this.load.setBaseURL("https://cdn.phaserfiles.com/v385"),this.load.atlas("assets","assets/games/breakout/breakout.png","assets/games/breakout/breakout.json")}create(){this.physics.world.setBoundsCollision(!0,!0,!0,!1),this.bricks=this.physics.add.staticGroup({key:"assets",frame:["blue1","red1","green1","yellow1","silver1","purple1"],frameQuantity:10,gridAlign:{width:10,height:6,cellWidth:64,cellHeight:32,x:112,y:100}}),this.ball=this.physics.add.image(400,500,"assets","ball1").setCollideWorldBounds(!0).setBounce(1),this.ball.setData("onPaddle",!0),this.paddle=this.physics.add.image(400,550,"assets","paddle1").setImmovable().setCollideWorldBounds(!0),this.physics.add.collider(this.ball,this.bricks,this.hitBrick,null,this),this.physics.add.collider(this.ball,this.paddle,this.hitPaddle,null,this),this.input.on("pointermove",function(e){this.paddle.x=Phaser.Math.Clamp(e.x,0,800),this.ball.getData("onPaddle")&&(this.ball.x=this.paddle.x)},this),this.input.on("pointerup",function(e){this.ball.getData("onPaddle")&&(this.ball.setVelocity(-75,-300),this.ball.setData("onPaddle",!1))},this)}hitBrick(e,t){t.disableBody(!0,!0),0===this.bricks.countActive()&&this.resetLevel()}resetBall(){this.ball.setVelocity(0),this.ball.setPosition(this.paddle.x,500),this.ball.setData("onPaddle",!0)}resetLevel(){this.resetBall(),this.bricks.children.each(e=>{e.enableBody(!1,0,0,!0,!0)})}hitPaddle(e,t){let s=0;e.x<t.x?(s=t.x-e.x,e.setVelocityX(-10*s)):e.x>t.x?(s=e.x-t.x,e.setVelocityX(10*s)):e.setVelocityX(2+8*Math.random())}update(){this.ball.y>600&&this.resetBall()}constructor(){super({key:"breakout"}),this.bricks,this.paddle,this.ball}}let r={type:Phaser.WEBGL,width:800,height:600,parent:"phaser-example",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},scene:[i],physics:{default:"arcade"}},n=(0,s.forwardRef)(function(e,i){let{currentActiveScene:n}=e,c=(0,s.useRef)(null);return(0,s.useLayoutEffect)(()=>{null===c.current&&(c.current=new a.Game({...r,parent:"game-container"}),"function"==typeof i?i({game:c.current,scene:null}):i&&(i.current={game:c.current,scene:null}));return()=>{c.current&&(c.current.destroy(!0),null!==c.current&&(c.current=null))}},[i]),(0,s.useEffect)(()=>(l.on("current-scene-ready",e=>{n&&"function"==typeof n&&n(e),"function"==typeof i?i({game:c.current,scene:e}):i&&(i.current={game:c.current,scene:e})}),()=>{l.removeListener("current-scene-ready")}),[n,i]),(0,t.jsx)("div",{id:"game-container",className:"w-screen aspect-[4/3] md:w-auto md:h-auto"})}),c=function(){let[e,a]=(0,s.useState)(!0),l=(0,s.useRef)(null),[i,r]=(0,s.useState)({x:0,y:0});return(0,t.jsx)("div",{id:"app",children:(0,t.jsx)(n,{ref:l,currentActiveScene:e=>{a("MainMenu"!==e.scene.key)}})})}},84186,e=>{e.n(e.i(79223))}]);